{"ast":null,"code":"var _jsxFileName = \"/Users/fmparantean/Desktop/mixvisual 3/src/BubbleMap/ColorLegend.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport * as d3 from 'd3';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ColorLegend = ({\n  colorScale\n}) => {\n  _s();\n  useEffect(() => {\n    const svg = d3.select('#color-legend') // Select the legend SVG\n    .attr(\"width\", 300).attr(\"height\", 50); // Set height\n\n    const legendWidth = 260; // Width for the gradient\n    const legendHeight = 20; // Height for the gradient\n    svg.selectAll(\"*\").remove(); // Clear any previous content\n\n    // Define the linear gradient\n    const gradient = svg.append(\"defs\").append(\"linearGradient\").attr(\"id\", \"gradient\").attr(\"x1\", \"0%\").attr(\"y1\", \"0%\").attr(\"x2\", \"100%\").attr(\"y2\", \"0%\");\n\n    // Create the gradient stops\n    const numTicks = 5;\n    const stops = d3.range(numTicks).map(i => {\n      const value = colorScale.invert(i / (numTicks - 1)); // Get HRV value for each tick\n      return {\n        offset: `${i / (numTicks - 1) * 100}%`,\n        color: colorScale(value),\n        value: value // Save the HRV value for text\n      };\n    });\n    stops.forEach(stop => gradient.append(\"stop\").attr(\"offset\", stop.offset).attr(\"stop-color\", stop.color));\n\n    // Draw gradient rectangle\n    svg.append(\"rect\").attr(\"x\", 0).attr(\"y\", 0).attr(\"width\", legendWidth).attr(\"height\", legendHeight).style(\"fill\", \"url(#gradient)\");\n\n    // Add tick labels\n    stops.forEach((stop, index) => {\n      svg.append(\"text\").attr(\"x\", index / (numTicks - 1) * legendWidth).attr(\"y\", legendHeight + 15).attr(\"text-anchor\", \"middle\").text(stop.value.toFixed(2)); // Format HRV value\n    });\n\n    // Add title\n    svg.append(\"text\").attr(\"x\", legendWidth / 2).attr(\"y\", legendHeight + 30).attr(\"text-anchor\", \"middle\").text(\"Average HRV\").attr(\"font-weight\", \"bold\");\n  }, [colorScale]);\n  return /*#__PURE__*/_jsxDEV(\"svg\", {\n    id: \"color-legend\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 12\n  }, this); // Placeholder for the legend\n};\n_s(ColorLegend, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c = ColorLegend;\nexport default ColorLegend;\nvar _c;\n$RefreshReg$(_c, \"ColorLegend\");","map":{"version":3,"names":["React","useEffect","d3","jsxDEV","_jsxDEV","ColorLegend","colorScale","_s","svg","select","attr","legendWidth","legendHeight","selectAll","remove","gradient","append","numTicks","stops","range","map","i","value","invert","offset","color","forEach","stop","style","index","text","toFixed","id","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/fmparantean/Desktop/mixvisual 3/src/BubbleMap/ColorLegend.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport * as d3 from 'd3';\n\nconst ColorLegend = ({ colorScale }) => {\n    useEffect(() => {\n        const svg = d3.select('#color-legend') // Select the legend SVG\n            .attr(\"width\", 300)\n            .attr(\"height\", 50); // Set height\n\n        const legendWidth = 260; // Width for the gradient\n        const legendHeight = 20; // Height for the gradient\n        svg.selectAll(\"*\").remove(); // Clear any previous content\n\n        // Define the linear gradient\n        const gradient = svg.append(\"defs\")\n            .append(\"linearGradient\")\n            .attr(\"id\", \"gradient\")\n            .attr(\"x1\", \"0%\")\n            .attr(\"y1\", \"0%\")\n            .attr(\"x2\", \"100%\")\n            .attr(\"y2\", \"0%\");\n\n        // Create the gradient stops\n        const numTicks = 5;\n        const stops = d3.range(numTicks).map((i) => {\n            const value = colorScale.invert(i / (numTicks - 1)); // Get HRV value for each tick\n            return {\n                offset: `${(i / (numTicks - 1)) * 100}%`,\n                color: colorScale(value),\n                value: value // Save the HRV value for text\n            };\n        });\n\n        stops.forEach(stop =>\n            gradient.append(\"stop\")\n                .attr(\"offset\", stop.offset)\n                .attr(\"stop-color\", stop.color)\n        );\n\n        // Draw gradient rectangle\n        svg.append(\"rect\")\n            .attr(\"x\", 0)\n            .attr(\"y\", 0)\n            .attr(\"width\", legendWidth)\n            .attr(\"height\", legendHeight)\n            .style(\"fill\", \"url(#gradient)\");\n\n        // Add tick labels\n        stops.forEach((stop, index) => {\n            svg.append(\"text\")\n                .attr(\"x\", (index / (numTicks - 1)) * legendWidth)\n                .attr(\"y\", legendHeight + 15)\n                .attr(\"text-anchor\", \"middle\")\n                .text(stop.value.toFixed(2)); // Format HRV value\n        });\n\n        // Add title\n        svg.append(\"text\")\n            .attr(\"x\", legendWidth / 2)\n            .attr(\"y\", legendHeight + 30)\n            .attr(\"text-anchor\", \"middle\")\n            .text(\"Average HRV\")\n            .attr(\"font-weight\", \"bold\");\n\n    }, [colorScale]);\n\n    return <svg id=\"color-legend\"></svg>; // Placeholder for the legend\n};\n\nexport default ColorLegend;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}