{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useEffect } from 'react'; // Import React and hooks\nimport { useMap } from 'react-leaflet'; // Import useMap to access Leaflet map\nimport L from 'leaflet'; // Import Leaflet for mapping functionalities\nimport '@asymmetrik/leaflet-d3'; // Ensure d3 plugin for Leaflet is imported\n\nexport const BubbleMap = ({\n  data\n}) => {\n  _s();\n  const map = useMap(); // Get the Leaflet map instance\n\n  useEffect(() => {\n    // Create hexbin layer and add it to the map\n    const hexbinLayer = L.hexbinLayer().addTo(map);\n\n    // Check if data exists and is in the expected format\n    if (!data || data.length === 0) {\n      console.error('No valid data provided');\n      return;\n    }\n\n    // Extract valid points, ensuring correct ordering (longitude, latitude)\n    const points = data.map(feat => {\n      const coords = feat.LocationCoordinates.split(',').map(coord => +coord.trim());\n      return [coords[1], coords[0]]; // Convert to [lng, lat]\n    });\n\n    // Set data to hexbin layer if points exist\n    if (points.length) {\n      hexbinLayer.data(points);\n    }\n\n    // Cleanup: Remove hexbin layer when component unmounts\n    return () => {\n      if (map.hasLayer(hexbinLayer)) {\n        map.removeLayer(hexbinLayer);\n      }\n    };\n  }, [data, map]); // Depend on data and map changes\n\n  return null; // No direct rendering\n};\n_s(BubbleMap, \"IoceErwr5KVGS9kN4RQ1bOkYMAg=\", false, function () {\n  return [useMap];\n});\n_c = BubbleMap;\nexport default BubbleMap;\nvar _c;\n$RefreshReg$(_c, \"BubbleMap\");","map":{"version":3,"names":["React","useEffect","useMap","L","BubbleMap","data","_s","map","hexbinLayer","addTo","length","console","error","points","feat","coords","LocationCoordinates","split","coord","trim","hasLayer","removeLayer","_c","$RefreshReg$"],"sources":["/Users/fmparantean/Desktop/mixvisual 3/src/BubbleMap/index.js"],"sourcesContent":["import React, { useEffect } from 'react'; // Import React and hooks\nimport { useMap } from 'react-leaflet'; // Import useMap to access Leaflet map\nimport L from 'leaflet'; // Import Leaflet for mapping functionalities\nimport '@asymmetrik/leaflet-d3'; // Ensure d3 plugin for Leaflet is imported\n\nexport const BubbleMap = ({ data }) => {\n    const map = useMap(); // Get the Leaflet map instance\n    \n    useEffect(() => {\n        // Create hexbin layer and add it to the map\n        const hexbinLayer = L.hexbinLayer().addTo(map);\n\n        // Check if data exists and is in the expected format\n        if (!data || data.length === 0) {\n            console.error('No valid data provided');\n            return;\n        }\n\n        // Extract valid points, ensuring correct ordering (longitude, latitude)\n        const points = data.map(feat => {\n            const coords = feat.LocationCoordinates.split(',').map(coord => +coord.trim());\n            return [coords[1], coords[0]]; // Convert to [lng, lat]\n        });\n\n        // Set data to hexbin layer if points exist\n        if (points.length) {\n            hexbinLayer.data(points);\n        }\n\n        // Cleanup: Remove hexbin layer when component unmounts\n        return () => {\n            if (map.hasLayer(hexbinLayer)) {\n                map.removeLayer(hexbinLayer);\n            }\n        };\n    }, [data, map]); // Depend on data and map changes\n\n    return null; // No direct rendering\n};\n\nexport default BubbleMap;"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO,CAAC,CAAC;AAC1C,SAASC,MAAM,QAAQ,eAAe,CAAC,CAAC;AACxC,OAAOC,CAAC,MAAM,SAAS,CAAC,CAAC;AACzB,OAAO,wBAAwB,CAAC,CAAC;;AAEjC,OAAO,MAAMC,SAAS,GAAGA,CAAC;EAAEC;AAAK,CAAC,KAAK;EAAAC,EAAA;EACnC,MAAMC,GAAG,GAAGL,MAAM,CAAC,CAAC,CAAC,CAAC;;EAEtBD,SAAS,CAAC,MAAM;IACZ;IACA,MAAMO,WAAW,GAAGL,CAAC,CAACK,WAAW,CAAC,CAAC,CAACC,KAAK,CAACF,GAAG,CAAC;;IAE9C;IACA,IAAI,CAACF,IAAI,IAAIA,IAAI,CAACK,MAAM,KAAK,CAAC,EAAE;MAC5BC,OAAO,CAACC,KAAK,CAAC,wBAAwB,CAAC;MACvC;IACJ;;IAEA;IACA,MAAMC,MAAM,GAAGR,IAAI,CAACE,GAAG,CAACO,IAAI,IAAI;MAC5B,MAAMC,MAAM,GAAGD,IAAI,CAACE,mBAAmB,CAACC,KAAK,CAAC,GAAG,CAAC,CAACV,GAAG,CAACW,KAAK,IAAI,CAACA,KAAK,CAACC,IAAI,CAAC,CAAC,CAAC;MAC9E,OAAO,CAACJ,MAAM,CAAC,CAAC,CAAC,EAAEA,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACnC,CAAC,CAAC;;IAEF;IACA,IAAIF,MAAM,CAACH,MAAM,EAAE;MACfF,WAAW,CAACH,IAAI,CAACQ,MAAM,CAAC;IAC5B;;IAEA;IACA,OAAO,MAAM;MACT,IAAIN,GAAG,CAACa,QAAQ,CAACZ,WAAW,CAAC,EAAE;QAC3BD,GAAG,CAACc,WAAW,CAACb,WAAW,CAAC;MAChC;IACJ,CAAC;EACL,CAAC,EAAE,CAACH,IAAI,EAAEE,GAAG,CAAC,CAAC,CAAC,CAAC;;EAEjB,OAAO,IAAI,CAAC,CAAC;AACjB,CAAC;AAACD,EAAA,CAjCWF,SAAS;EAAA,QACNF,MAAM;AAAA;AAAAoB,EAAA,GADTlB,SAAS;AAmCtB,eAAeA,SAAS;AAAC,IAAAkB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}