{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { csv } from 'd3';\nconst csvUrl = 'https://gist.githubusercontent.com/curran/a9656d711a8ad31d812b8f9963ac441c/raw/c22144062566de911ba32509613c84af2a99e8e2/MissingMigrants-Global-2019-10-08T09-47-14-subset.csv';\nconst row = d => {\n  d.coords = d['Location Coordinates'].split(',').map(d => +d).reverse();\n  d['Total Dead and Missing'] = +d['Total Dead and Missing'];\n  d['Reported Date'] = new Date(d['Reported Date']);\n  return d;\n};\nexport const useData = () => {\n  _s();\n  const [data, setData] = useState(null);\n  useEffect(() => {\n    csv(csvUrl, row).then(data => {\n      console.log(\"Data fetched successfully:\", data); // Debug log\n      setData(data);\n    }).catch(error => {\n      console.error(\"Error fetching data:\", error); // Error log\n      setData([]); // Avoid null checks later\n    });\n  }, []);\n  return data; // Return the data for use\n};\n_s(useData, \"fQZRxy/+nAZ7NLS1X4dVhrlp8Go=\");","map":{"version":3,"names":["useState","useEffect","csv","csvUrl","row","d","coords","split","map","reverse","Date","useData","_s","data","setData","then","console","log","catch","error"],"sources":["/Users/fmparantean/bubblemap/src/useData.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { csv } from 'd3';\n\nconst csvUrl =\n  'https://gist.githubusercontent.com/curran/a9656d711a8ad31d812b8f9963ac441c/raw/c22144062566de911ba32509613c84af2a99e8e2/MissingMigrants-Global-2019-10-08T09-47-14-subset.csv';\n\nconst row = d => {\n  d.coords = d['Location Coordinates'].split(',').map(d => +d).reverse();\n  d['Total Dead and Missing'] = +d['Total Dead and Missing'];\n  d['Reported Date'] = new Date(d['Reported Date']);\n  return d;\n};\n\nexport const useData = () => {\n  const [data, setData] = useState(null);\n\n  useEffect(() => {\n    csv(csvUrl, row)\n      .then(data => {\n        console.log(\"Data fetched successfully:\", data); // Debug log\n        setData(data);\n      })\n      .catch(error => {\n        console.error(\"Error fetching data:\", error); // Error log\n        setData([]); // Avoid null checks later\n      });\n  }, []);\n\n  return data; // Return the data for use\n};"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,GAAG,QAAQ,IAAI;AAExB,MAAMC,MAAM,GACV,+KAA+K;AAEjL,MAAMC,GAAG,GAAGC,CAAC,IAAI;EACfA,CAAC,CAACC,MAAM,GAAGD,CAAC,CAAC,sBAAsB,CAAC,CAACE,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAACH,CAAC,IAAI,CAACA,CAAC,CAAC,CAACI,OAAO,CAAC,CAAC;EACtEJ,CAAC,CAAC,wBAAwB,CAAC,GAAG,CAACA,CAAC,CAAC,wBAAwB,CAAC;EAC1DA,CAAC,CAAC,eAAe,CAAC,GAAG,IAAIK,IAAI,CAACL,CAAC,CAAC,eAAe,CAAC,CAAC;EACjD,OAAOA,CAAC;AACV,CAAC;AAED,OAAO,MAAMM,OAAO,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC3B,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGd,QAAQ,CAAC,IAAI,CAAC;EAEtCC,SAAS,CAAC,MAAM;IACdC,GAAG,CAACC,MAAM,EAAEC,GAAG,CAAC,CACbW,IAAI,CAACF,IAAI,IAAI;MACZG,OAAO,CAACC,GAAG,CAAC,4BAA4B,EAAEJ,IAAI,CAAC,CAAC,CAAC;MACjDC,OAAO,CAACD,IAAI,CAAC;IACf,CAAC,CAAC,CACDK,KAAK,CAACC,KAAK,IAAI;MACdH,OAAO,CAACG,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC,CAAC,CAAC;MAC9CL,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC;IACf,CAAC,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;EAEN,OAAOD,IAAI,CAAC,CAAC;AACf,CAAC;AAACD,EAAA,CAhBWD,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}