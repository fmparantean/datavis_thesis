{"ast":null,"code":"var _jsxFileName = \"/Users/fmparantean/bubblemap/src/BubbleMap/Marks.js\";\nimport { geoNaturalEarth1, geoPath, geoGraticule, zoom, select } from 'd3';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst projection = geoNaturalEarth1().scale(5000).translate([-400, 250]);\nconst path = geoPath(projection);\nconst graticule = geoGraticule();\nexport const Marks = ({\n  worldAtlas: {\n    land,\n    interiors\n  },\n  data,\n  sizeScale,\n  sizeValue,\n  width,\n  height,\n  onZoom\n}) => {\n  const zoomed = event => {\n    const transform = event.transform;\n    // Update the projection based on the zoom\n    const newProjection = projection.scale(transform.k * 5000).translate([transform.x, transform.y]);\n    path.projection(newProjection);\n    select('.marks').attr('transform', transform); // Apply zoom transformation to the marks\n    onZoom && onZoom(newProjection); // Call a callback if needed\n  };\n  const zoomBehavior = zoom().scaleExtent([1, 8]) // Control the zoom scale limits (min, max)\n  .on('zoom', zoomed);\n  return /*#__PURE__*/_jsxDEV(\"g\", {\n    className: \"marks\",\n    children: [/*#__PURE__*/_jsxDEV(\"path\", {\n      className: \"sphere\",\n      d: path({\n        type: 'Sphere'\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n      className: \"graticules\",\n      d: path(graticule())\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), land.features.map(feature => /*#__PURE__*/_jsxDEV(\"path\", {\n      className: \"land\",\n      d: path(feature)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"path\", {\n      className: \"interiors\",\n      d: path(interiors)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), data.map(d => {\n      const [x, y] = projection(d.coords);\n      return /*#__PURE__*/_jsxDEV(\"circle\", {\n        cx: x,\n        cy: y,\n        r: sizeScale(sizeValue(d))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 16\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n};\n_c = Marks;\nvar _c;\n$RefreshReg$(_c, \"Marks\");","map":{"version":3,"names":["geoNaturalEarth1","geoPath","geoGraticule","zoom","select","jsxDEV","_jsxDEV","projection","scale","translate","path","graticule","Marks","worldAtlas","land","interiors","data","sizeScale","sizeValue","width","height","onZoom","zoomed","event","transform","newProjection","k","x","y","attr","zoomBehavior","scaleExtent","on","className","children","d","type","fileName","_jsxFileName","lineNumber","columnNumber","features","map","feature","coords","cx","cy","r","_c","$RefreshReg$"],"sources":["/Users/fmparantean/bubblemap/src/BubbleMap/Marks.js"],"sourcesContent":["import { geoNaturalEarth1, geoPath, geoGraticule, zoom, select } from 'd3';\n\nconst projection = geoNaturalEarth1()\n  .scale(5000) \n  .translate([-400, 250]);\n\nconst path = geoPath(projection);\nconst graticule = geoGraticule();\n\nexport const Marks = ({\n  worldAtlas: { land, interiors },\n  data,\n  sizeScale,\n  sizeValue,\n  width,\n  height,\n  onZoom,\n}) => {\n  const zoomed = (event) => {\n    const transform = event.transform;\n    // Update the projection based on the zoom\n    const newProjection = projection.scale(transform.k * 5000).translate([transform.x, transform.y]);\n    path.projection(newProjection);\n    select('.marks').attr('transform', transform); // Apply zoom transformation to the marks\n    onZoom && onZoom(newProjection); // Call a callback if needed\n  };\n\n  const zoomBehavior = zoom()\n    .scaleExtent([1, 8]) // Control the zoom scale limits (min, max)\n    .on('zoom', zoomed);\n\n  return (\n    <g className=\"marks\">\n      <path className=\"sphere\" d={path({ type: 'Sphere' })} />\n      <path className=\"graticules\" d={path(graticule())} />\n      {land.features.map(feature => (\n        <path className=\"land\" d={path(feature)} />\n      ))}\n      <path className=\"interiors\" d={path(interiors)} />\n      {data.map(d => {\n        const [x, y] = projection(d.coords);\n        return <circle cx={x} cy={y} r={sizeScale(sizeValue(d))} />;\n      })}\n    </g>\n  );\n};"],"mappings":";AAAA,SAASA,gBAAgB,EAAEC,OAAO,EAAEC,YAAY,EAAEC,IAAI,EAAEC,MAAM,QAAQ,IAAI;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE3E,MAAMC,UAAU,GAAGP,gBAAgB,CAAC,CAAC,CAClCQ,KAAK,CAAC,IAAI,CAAC,CACXC,SAAS,CAAC,CAAC,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;AAEzB,MAAMC,IAAI,GAAGT,OAAO,CAACM,UAAU,CAAC;AAChC,MAAMI,SAAS,GAAGT,YAAY,CAAC,CAAC;AAEhC,OAAO,MAAMU,KAAK,GAAGA,CAAC;EACpBC,UAAU,EAAE;IAAEC,IAAI;IAAEC;EAAU,CAAC;EAC/BC,IAAI;EACJC,SAAS;EACTC,SAAS;EACTC,KAAK;EACLC,MAAM;EACNC;AACF,CAAC,KAAK;EACJ,MAAMC,MAAM,GAAIC,KAAK,IAAK;IACxB,MAAMC,SAAS,GAAGD,KAAK,CAACC,SAAS;IACjC;IACA,MAAMC,aAAa,GAAGlB,UAAU,CAACC,KAAK,CAACgB,SAAS,CAACE,CAAC,GAAG,IAAI,CAAC,CAACjB,SAAS,CAAC,CAACe,SAAS,CAACG,CAAC,EAAEH,SAAS,CAACI,CAAC,CAAC,CAAC;IAChGlB,IAAI,CAACH,UAAU,CAACkB,aAAa,CAAC;IAC9BrB,MAAM,CAAC,QAAQ,CAAC,CAACyB,IAAI,CAAC,WAAW,EAAEL,SAAS,CAAC,CAAC,CAAC;IAC/CH,MAAM,IAAIA,MAAM,CAACI,aAAa,CAAC,CAAC,CAAC;EACnC,CAAC;EAED,MAAMK,YAAY,GAAG3B,IAAI,CAAC,CAAC,CACxB4B,WAAW,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EAAA,CACpBC,EAAE,CAAC,MAAM,EAAEV,MAAM,CAAC;EAErB,oBACEhB,OAAA;IAAG2B,SAAS,EAAC,OAAO;IAAAC,QAAA,gBAClB5B,OAAA;MAAM2B,SAAS,EAAC,QAAQ;MAACE,CAAC,EAAEzB,IAAI,CAAC;QAAE0B,IAAI,EAAE;MAAS,CAAC;IAAE;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACxDlC,OAAA;MAAM2B,SAAS,EAAC,YAAY;MAACE,CAAC,EAAEzB,IAAI,CAACC,SAAS,CAAC,CAAC;IAAE;MAAA0B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,EACpD1B,IAAI,CAAC2B,QAAQ,CAACC,GAAG,CAACC,OAAO,iBACxBrC,OAAA;MAAM2B,SAAS,EAAC,MAAM;MAACE,CAAC,EAAEzB,IAAI,CAACiC,OAAO;IAAE;MAAAN,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAC3C,CAAC,eACFlC,OAAA;MAAM2B,SAAS,EAAC,WAAW;MAACE,CAAC,EAAEzB,IAAI,CAACK,SAAS;IAAE;MAAAsB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,EACjDxB,IAAI,CAAC0B,GAAG,CAACP,CAAC,IAAI;MACb,MAAM,CAACR,CAAC,EAAEC,CAAC,CAAC,GAAGrB,UAAU,CAAC4B,CAAC,CAACS,MAAM,CAAC;MACnC,oBAAOtC,OAAA;QAAQuC,EAAE,EAAElB,CAAE;QAACmB,EAAE,EAAElB,CAAE;QAACmB,CAAC,EAAE9B,SAAS,CAACC,SAAS,CAACiB,CAAC,CAAC;MAAE;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAC7D,CAAC,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACD,CAAC;AAER,CAAC;AAACQ,EAAA,GApCWpC,KAAK;AAAA,IAAAoC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}