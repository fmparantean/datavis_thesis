{"ast":null,"code":"var _jsxFileName = \"/Users/fmparantean/Desktop/mixvisual 2/src/DateHistogram/index.js\",\n  _s = $RefreshSig$();\n// DateHistogram.js\nimport { scaleLinear, scaleTime, max, timeFormat, extent, brushX, select } from 'd3';\n\n// Other imports...\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const DateHistogram = ({\n  data,\n  width,\n  height,\n  setBrushExtent,\n  xValue\n}) => {\n  _s();\n  const innerHeight = height - margin.top - margin.bottom;\n  const innerWidth = width - margin.left - margin.right;\n  const xScale = scaleTime().domain(extent(data, xValue)).range([0, innerWidth]).nice();\n  const yValue = d => d.HRV; // y value from HRV\n  const yScale = scaleLinear().domain([0, max(data, yValue)]).range([innerHeight, 0]).nice();\n\n  // Logging to debug scales\n  console.log(\"X Scale Domain:\", xScale.domain());\n  console.log(\"Y Scale Domain:\", yScale.domain());\n  const brushRef = useRef();\n  useEffect(() => {\n    const brush = brushX().extent([[0, 0], [innerWidth, innerHeight]]);\n    brush(select(brushRef.current));\n    brush.on('brush end', event => {\n      setBrushExtent(event.selection && event.selection.map(xScale.invert));\n    });\n  }, [innerWidth, innerHeight]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n      width: width,\n      height: height,\n      fill: \"white\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n      transform: `translate(${margin.left},${margin.top})`,\n      children: [/*#__PURE__*/_jsxDEV(AxisBottom, {\n        xScale: xScale,\n        innerHeight: innerHeight,\n        tickFormat: timeFormat('%Y-%m-%d %H:%M:%S') // Format for Timestamp\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(AxisLeft, {\n        yScale: yScale,\n        innerWidth: innerWidth\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(Marks, {\n        data: data,\n        xScale: xScale,\n        yScale: yScale,\n        xValue: xValue,\n        yValue: yValue\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n        ref: brushRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true);\n};\n_s(DateHistogram, \"ufAAn12OGFkKLLa0dZKcGlfi/hc=\");\n_c = DateHistogram;\nvar _c;\n$RefreshReg$(_c, \"DateHistogram\");","map":{"version":3,"names":["scaleLinear","scaleTime","max","timeFormat","extent","brushX","select","jsxDEV","_jsxDEV","Fragment","_Fragment","DateHistogram","data","width","height","setBrushExtent","xValue","_s","innerHeight","margin","top","bottom","innerWidth","left","right","xScale","domain","range","nice","yValue","d","HRV","yScale","console","log","brushRef","useRef","useEffect","brush","current","on","event","selection","map","invert","children","fill","fileName","_jsxFileName","lineNumber","columnNumber","transform","AxisBottom","tickFormat","AxisLeft","Marks","ref","_c","$RefreshReg$"],"sources":["/Users/fmparantean/Desktop/mixvisual 2/src/DateHistogram/index.js"],"sourcesContent":["// DateHistogram.js\nimport {\n  scaleLinear,\n  scaleTime,\n  max,\n  timeFormat,\n  extent,\n  brushX,\n  select\n} from 'd3';\n\n// Other imports...\n\nexport const DateHistogram = ({\n  data,\n  width,\n  height,\n  setBrushExtent,\n  xValue\n}) => {\n  const innerHeight = height - margin.top - margin.bottom;\n  const innerWidth = width - margin.left - margin.right;\n\n  const xScale = scaleTime()\n      .domain(extent(data, xValue))\n      .range([0, innerWidth])\n      .nice();\n\n  const yValue = d => d.HRV; // y value from HRV\n  const yScale = scaleLinear()\n      .domain([0, max(data, yValue)])\n      .range([innerHeight, 0])\n      .nice();\n\n  // Logging to debug scales\n  console.log(\"X Scale Domain:\", xScale.domain());\n  console.log(\"Y Scale Domain:\", yScale.domain());\n\n  const brushRef = useRef();\n\n  useEffect(() => {\n      const brush = brushX().extent([[0, 0], [innerWidth, innerHeight]]);\n      brush(select(brushRef.current));\n      brush.on('brush end', (event) => {\n          setBrushExtent(event.selection && event.selection.map(xScale.invert));\n      });\n  }, [innerWidth, innerHeight]);\n\n  return (\n      <>\n          <rect width={width} height={height} fill=\"white\" />\n          <g transform={`translate(${margin.left},${margin.top})`}>\n              <AxisBottom\n                  xScale={xScale}\n                  innerHeight={innerHeight}\n                  tickFormat={timeFormat('%Y-%m-%d %H:%M:%S')} // Format for Timestamp\n              />\n              <AxisLeft\n                  yScale={yScale}\n                  innerWidth={innerWidth}\n              />\n              <Marks\n                  data={data}\n                  xScale={xScale}\n                  yScale={yScale}\n                  xValue={xValue}\n                  yValue={yValue}\n              />\n              <g ref={brushRef} />\n          </g>\n      </>\n  );\n};"],"mappings":";;AAAA;AACA,SACEA,WAAW,EACXC,SAAS,EACTC,GAAG,EACHC,UAAU,EACVC,MAAM,EACNC,MAAM,EACNC,MAAM,QACD,IAAI;;AAEX;AAAA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEA,OAAO,MAAMC,aAAa,GAAGA,CAAC;EAC5BC,IAAI;EACJC,KAAK;EACLC,MAAM;EACNC,cAAc;EACdC;AACF,CAAC,KAAK;EAAAC,EAAA;EACJ,MAAMC,WAAW,GAAGJ,MAAM,GAAGK,MAAM,CAACC,GAAG,GAAGD,MAAM,CAACE,MAAM;EACvD,MAAMC,UAAU,GAAGT,KAAK,GAAGM,MAAM,CAACI,IAAI,GAAGJ,MAAM,CAACK,KAAK;EAErD,MAAMC,MAAM,GAAGxB,SAAS,CAAC,CAAC,CACrByB,MAAM,CAACtB,MAAM,CAACQ,IAAI,EAAEI,MAAM,CAAC,CAAC,CAC5BW,KAAK,CAAC,CAAC,CAAC,EAAEL,UAAU,CAAC,CAAC,CACtBM,IAAI,CAAC,CAAC;EAEX,MAAMC,MAAM,GAAGC,CAAC,IAAIA,CAAC,CAACC,GAAG,CAAC,CAAC;EAC3B,MAAMC,MAAM,GAAGhC,WAAW,CAAC,CAAC,CACvB0B,MAAM,CAAC,CAAC,CAAC,EAAExB,GAAG,CAACU,IAAI,EAAEiB,MAAM,CAAC,CAAC,CAAC,CAC9BF,KAAK,CAAC,CAACT,WAAW,EAAE,CAAC,CAAC,CAAC,CACvBU,IAAI,CAAC,CAAC;;EAEX;EACAK,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAET,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC;EAC/CO,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAEF,MAAM,CAACN,MAAM,CAAC,CAAC,CAAC;EAE/C,MAAMS,QAAQ,GAAGC,MAAM,CAAC,CAAC;EAEzBC,SAAS,CAAC,MAAM;IACZ,MAAMC,KAAK,GAAGjC,MAAM,CAAC,CAAC,CAACD,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAACkB,UAAU,EAAEJ,WAAW,CAAC,CAAC,CAAC;IAClEoB,KAAK,CAAChC,MAAM,CAAC6B,QAAQ,CAACI,OAAO,CAAC,CAAC;IAC/BD,KAAK,CAACE,EAAE,CAAC,WAAW,EAAGC,KAAK,IAAK;MAC7B1B,cAAc,CAAC0B,KAAK,CAACC,SAAS,IAAID,KAAK,CAACC,SAAS,CAACC,GAAG,CAAClB,MAAM,CAACmB,MAAM,CAAC,CAAC;IACzE,CAAC,CAAC;EACN,CAAC,EAAE,CAACtB,UAAU,EAAEJ,WAAW,CAAC,CAAC;EAE7B,oBACIV,OAAA,CAAAE,SAAA;IAAAmC,QAAA,gBACIrC,OAAA;MAAMK,KAAK,EAAEA,KAAM;MAACC,MAAM,EAAEA,MAAO;MAACgC,IAAI,EAAC;IAAO;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACnD1C,OAAA;MAAG2C,SAAS,EAAE,aAAahC,MAAM,CAACI,IAAI,IAAIJ,MAAM,CAACC,GAAG,GAAI;MAAAyB,QAAA,gBACpDrC,OAAA,CAAC4C,UAAU;QACP3B,MAAM,EAAEA,MAAO;QACfP,WAAW,EAAEA,WAAY;QACzBmC,UAAU,EAAElD,UAAU,CAAC,mBAAmB,CAAE,CAAC;MAAA;QAAA4C,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAChD,CAAC,eACF1C,OAAA,CAAC8C,QAAQ;QACLtB,MAAM,EAAEA,MAAO;QACfV,UAAU,EAAEA;MAAW;QAAAyB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC1B,CAAC,eACF1C,OAAA,CAAC+C,KAAK;QACF3C,IAAI,EAAEA,IAAK;QACXa,MAAM,EAAEA,MAAO;QACfO,MAAM,EAAEA,MAAO;QACfhB,MAAM,EAAEA,MAAO;QACfa,MAAM,EAAEA;MAAO;QAAAkB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAClB,CAAC,eACF1C,OAAA;QAAGgD,GAAG,EAAErB;MAAS;QAAAY,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACrB,CAAC;EAAA,eACN,CAAC;AAET,CAAC;AAACjC,EAAA,CA3DWN,aAAa;AAAA8C,EAAA,GAAb9C,aAAa;AAAA,IAAA8C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}