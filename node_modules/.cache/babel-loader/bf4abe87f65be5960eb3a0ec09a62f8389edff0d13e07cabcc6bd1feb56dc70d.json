{"ast":null,"code":"var _s = $RefreshSig$();\nimport React from 'react';\nimport { useMap } from 'react-leaflet'; // Use existing Leaflet context\nimport L from 'leaflet'; // Import Leaflet to use its functionality\nimport { scaleLinear } from 'd3';\nimport * as d3 from 'd3';\nexport const BubbleMap = ({\n  data\n}) => {\n  _s();\n  const map = useMap(); // Use the Leaflet map context\n\n  const colorScale = scaleLinear().domain([d3.min(data, d => d.HRV), d3.mean(data, d => d.HRV), d3.max(data, d => d.HRV)]) // HRV values\n  .range(['lightblue', 'blue', 'darkblue']); // Color range\n\n  // Create hexagons for each data point\n  data.forEach(point => {\n    const coords = point.LocationCoordinates;\n\n    // Create a hexagon shape\n    const hexagon = generateHexagon(coords[1], coords[0], 20); // 20 is the radius\n\n    // Add hexagons to map\n    L.polygon(hexagon, {\n      color: colorScale(point.HRV),\n      // Color based on HRV value\n      fillColor: colorScale(point.HRV),\n      fillOpacity: 0.6,\n      weight: 1\n    }).addTo(map);\n  });\n  return null; // No rendering directly, layers are added to the map\n};\n\n// Generate hexagon based on center coordinates and radius\n_s(BubbleMap, \"cX187cvZ2hODbkaiLn05gMk1sCM=\", false, function () {\n  return [useMap];\n});\n_c = BubbleMap;\nconst generateHexagon = (lat, lng, radius) => {\n  const angle = Math.PI / 3; // 60 degrees\n  const points = [];\n  for (let i = 0; i < 6; i++) {\n    points.push([lat + radius * Math.sin(angle * i),\n    // Latitude modification\n    lng + radius * Math.cos(angle * i) // Longitude modification\n    ]);\n  }\n  return points; // Returns vertices for hexagon\n};\nvar _c;\n$RefreshReg$(_c, \"BubbleMap\");","map":{"version":3,"names":["React","useMap","L","scaleLinear","d3","BubbleMap","data","_s","map","colorScale","domain","min","d","HRV","mean","max","range","forEach","point","coords","LocationCoordinates","hexagon","generateHexagon","polygon","color","fillColor","fillOpacity","weight","addTo","_c","lat","lng","radius","angle","Math","PI","points","i","push","sin","cos","$RefreshReg$"],"sources":["/Users/fmparantean/Desktop/mixvisual 3/src/BubbleMap/index.js"],"sourcesContent":["import React from 'react';\nimport { useMap } from 'react-leaflet'; // Use existing Leaflet context\nimport L from 'leaflet'; // Import Leaflet to use its functionality\nimport { scaleLinear } from 'd3';\nimport * as d3 from 'd3';\n\nexport const BubbleMap = ({ data }) => {\n    const map = useMap(); // Use the Leaflet map context\n\n    const colorScale = scaleLinear()\n        .domain([d3.min(data, d => d.HRV), d3.mean(data, d => d.HRV), d3.max(data, d => d.HRV)]) // HRV values\n        .range(['lightblue', 'blue', 'darkblue']); // Color range\n\n    // Create hexagons for each data point\n    data.forEach(point => {\n        const coords = point.LocationCoordinates;\n\n        // Create a hexagon shape\n        const hexagon = generateHexagon(coords[1], coords[0], 20); // 20 is the radius\n\n        // Add hexagons to map\n        L.polygon(hexagon, {\n            color: colorScale(point.HRV), // Color based on HRV value\n            fillColor: colorScale(point.HRV),\n            fillOpacity: 0.6,\n            weight: 1\n        }).addTo(map);\n    });\n\n    return null; // No rendering directly, layers are added to the map\n};\n\n// Generate hexagon based on center coordinates and radius\nconst generateHexagon = (lat, lng, radius) => {\n    const angle = (Math.PI / 3); // 60 degrees\n    const points = [];\n    for (let i = 0; i < 6; i++) {\n        points.push([\n            lat + radius * Math.sin(angle * i), // Latitude modification\n            lng + radius * Math.cos(angle * i)  // Longitude modification\n        ]);\n    }\n    return points; // Returns vertices for hexagon\n};"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,MAAM,QAAQ,eAAe,CAAC,CAAC;AACxC,OAAOC,CAAC,MAAM,SAAS,CAAC,CAAC;AACzB,SAASC,WAAW,QAAQ,IAAI;AAChC,OAAO,KAAKC,EAAE,MAAM,IAAI;AAExB,OAAO,MAAMC,SAAS,GAAGA,CAAC;EAAEC;AAAK,CAAC,KAAK;EAAAC,EAAA;EACnC,MAAMC,GAAG,GAAGP,MAAM,CAAC,CAAC,CAAC,CAAC;;EAEtB,MAAMQ,UAAU,GAAGN,WAAW,CAAC,CAAC,CAC3BO,MAAM,CAAC,CAACN,EAAE,CAACO,GAAG,CAACL,IAAI,EAAEM,CAAC,IAAIA,CAAC,CAACC,GAAG,CAAC,EAAET,EAAE,CAACU,IAAI,CAACR,IAAI,EAAEM,CAAC,IAAIA,CAAC,CAACC,GAAG,CAAC,EAAET,EAAE,CAACW,GAAG,CAACT,IAAI,EAAEM,CAAC,IAAIA,CAAC,CAACC,GAAG,CAAC,CAAC,CAAC,CAAC;EAAA,CACxFG,KAAK,CAAC,CAAC,WAAW,EAAE,MAAM,EAAE,UAAU,CAAC,CAAC,CAAC,CAAC;;EAE/C;EACAV,IAAI,CAACW,OAAO,CAACC,KAAK,IAAI;IAClB,MAAMC,MAAM,GAAGD,KAAK,CAACE,mBAAmB;;IAExC;IACA,MAAMC,OAAO,GAAGC,eAAe,CAACH,MAAM,CAAC,CAAC,CAAC,EAAEA,MAAM,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;;IAE3D;IACAjB,CAAC,CAACqB,OAAO,CAACF,OAAO,EAAE;MACfG,KAAK,EAAEf,UAAU,CAACS,KAAK,CAACL,GAAG,CAAC;MAAE;MAC9BY,SAAS,EAAEhB,UAAU,CAACS,KAAK,CAACL,GAAG,CAAC;MAChCa,WAAW,EAAE,GAAG;MAChBC,MAAM,EAAE;IACZ,CAAC,CAAC,CAACC,KAAK,CAACpB,GAAG,CAAC;EACjB,CAAC,CAAC;EAEF,OAAO,IAAI,CAAC,CAAC;AACjB,CAAC;;AAED;AAAAD,EAAA,CA1BaF,SAAS;EAAA,QACNJ,MAAM;AAAA;AAAA4B,EAAA,GADTxB,SAAS;AA2BtB,MAAMiB,eAAe,GAAGA,CAACQ,GAAG,EAAEC,GAAG,EAAEC,MAAM,KAAK;EAC1C,MAAMC,KAAK,GAAIC,IAAI,CAACC,EAAE,GAAG,CAAE,CAAC,CAAC;EAC7B,MAAMC,MAAM,GAAG,EAAE;EACjB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,CAAC,EAAEA,CAAC,EAAE,EAAE;IACxBD,MAAM,CAACE,IAAI,CAAC,CACRR,GAAG,GAAGE,MAAM,GAAGE,IAAI,CAACK,GAAG,CAACN,KAAK,GAAGI,CAAC,CAAC;IAAE;IACpCN,GAAG,GAAGC,MAAM,GAAGE,IAAI,CAACM,GAAG,CAACP,KAAK,GAAGI,CAAC,CAAC,CAAE;IAAA,CACvC,CAAC;EACN;EACA,OAAOD,MAAM,CAAC,CAAC;AACnB,CAAC;AAAC,IAAAP,EAAA;AAAAY,YAAA,CAAAZ,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}