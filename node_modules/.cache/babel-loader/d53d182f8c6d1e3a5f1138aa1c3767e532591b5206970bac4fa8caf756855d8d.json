{"ast":null,"code":"import{useEffect,useState}from'react';import{csv}from'd3';export const useData=()=>{const[data,setData]=useState([]);useEffect(()=>{// csv('/dataku.csv') // Load from public directory\ncsv(process.env.PUBLIC_URL+'/dataku.csv').then(rawData=>{const processedData=rawData.map(row=>{const date=new Date(row.Timestamp);const dayOrder=date.getUTCDay();// Gets day as number (0 = Sunday)\nconst gender=row.Gender===\"1.0\"?\"Male\":\"Female\";// Convert \"1.0\" to \"Male\" and \"2.0\" to \"Female\"\nreturn{Timestamp:date,DayOrder:dayOrder,Participant:row.Participant,coords:row['Location Coordinates'].split(',').map(coord=>+coord.trim()).reverse(),Gender:gender,ModeButton_xs:row.ModeButton_xs,HR_mad_filtered:+row.HR_mad_filtered||0,HRV:+row.HRV||0,stress_xs:+row.stress_xs||0,satisfaction_journey_xs:+row.satisfaction_journey_xs||0};});setData(processedData);}).catch(error=>{console.error(\"Error loading data:\",error);});},[]);return data;// Return processed data\n};","map":{"version":3,"names":["useEffect","useState","csv","useData","data","setData","process","env","PUBLIC_URL","then","rawData","processedData","map","row","date","Date","Timestamp","dayOrder","getUTCDay","gender","Gender","DayOrder","Participant","coords","split","coord","trim","reverse","ModeButton_xs","HR_mad_filtered","HRV","stress_xs","satisfaction_journey_xs","catch","error","console"],"sources":["/Users/fmparantean/Documents/dataviz_project/src/useData.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { csv } from 'd3';\n\nexport const useData = () => {\n    const [data, setData] = useState([]);\n\n    useEffect(() => {\n        // csv('/dataku.csv') // Load from public directory\n        csv(process.env.PUBLIC_URL + '/dataku.csv')\n            .then(rawData => {\n                const processedData = rawData.map(row => {\n                    const date = new Date(row.Timestamp);\n                    const dayOrder = date.getUTCDay(); // Gets day as number (0 = Sunday)\n                    const gender = row.Gender === \"1.0\" ? \"Male\" : \"Female\"; // Convert \"1.0\" to \"Male\" and \"2.0\" to \"Female\"\n\n                    return {\n                        Timestamp: date,\n                        DayOrder: dayOrder,\n                        Participant: row.Participant,\n                        coords: row['Location Coordinates']\n                            .split(',')\n                            .map(coord => +coord.trim())\n                            .reverse(),\n                        Gender: gender,\n                        ModeButton_xs: row.ModeButton_xs,\n                        HR_mad_filtered: +row.HR_mad_filtered || 0,\n                        HRV: +row.HRV || 0,\n                        stress_xs: +row.stress_xs || 0,\n                        satisfaction_journey_xs: +row.satisfaction_journey_xs || 0,\n                    };\n                });\n\n                setData(processedData);\n            })\n            .catch(error => {\n                console.error(\"Error loading data:\", error);\n            });\n    }, []);\n\n    return data; // Return processed data\n};"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,GAAG,KAAQ,IAAI,CAExB,MAAO,MAAM,CAAAC,OAAO,CAAGA,CAAA,GAAM,CACzB,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGJ,QAAQ,CAAC,EAAE,CAAC,CAEpCD,SAAS,CAAC,IAAM,CACZ;AACAE,GAAG,CAACI,OAAO,CAACC,GAAG,CAACC,UAAU,CAAG,aAAa,CAAC,CACtCC,IAAI,CAACC,OAAO,EAAI,CACb,KAAM,CAAAC,aAAa,CAAGD,OAAO,CAACE,GAAG,CAACC,GAAG,EAAI,CACrC,KAAM,CAAAC,IAAI,CAAG,GAAI,CAAAC,IAAI,CAACF,GAAG,CAACG,SAAS,CAAC,CACpC,KAAM,CAAAC,QAAQ,CAAGH,IAAI,CAACI,SAAS,CAAC,CAAC,CAAE;AACnC,KAAM,CAAAC,MAAM,CAAGN,GAAG,CAACO,MAAM,GAAK,KAAK,CAAG,MAAM,CAAG,QAAQ,CAAE;AAEzD,MAAO,CACHJ,SAAS,CAAEF,IAAI,CACfO,QAAQ,CAAEJ,QAAQ,CAClBK,WAAW,CAAET,GAAG,CAACS,WAAW,CAC5BC,MAAM,CAAEV,GAAG,CAAC,sBAAsB,CAAC,CAC9BW,KAAK,CAAC,GAAG,CAAC,CACVZ,GAAG,CAACa,KAAK,EAAI,CAACA,KAAK,CAACC,IAAI,CAAC,CAAC,CAAC,CAC3BC,OAAO,CAAC,CAAC,CACdP,MAAM,CAAED,MAAM,CACdS,aAAa,CAAEf,GAAG,CAACe,aAAa,CAChCC,eAAe,CAAE,CAAChB,GAAG,CAACgB,eAAe,EAAI,CAAC,CAC1CC,GAAG,CAAE,CAACjB,GAAG,CAACiB,GAAG,EAAI,CAAC,CAClBC,SAAS,CAAE,CAAClB,GAAG,CAACkB,SAAS,EAAI,CAAC,CAC9BC,uBAAuB,CAAE,CAACnB,GAAG,CAACmB,uBAAuB,EAAI,CAC7D,CAAC,CACL,CAAC,CAAC,CAEF3B,OAAO,CAACM,aAAa,CAAC,CAC1B,CAAC,CAAC,CACDsB,KAAK,CAACC,KAAK,EAAI,CACZC,OAAO,CAACD,KAAK,CAAC,qBAAqB,CAAEA,KAAK,CAAC,CAC/C,CAAC,CAAC,CACV,CAAC,CAAE,EAAE,CAAC,CAEN,MAAO,CAAA9B,IAAI,CAAE;AACjB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}