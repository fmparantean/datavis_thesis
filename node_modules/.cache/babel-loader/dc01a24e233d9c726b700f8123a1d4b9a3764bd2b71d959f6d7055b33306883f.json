{"ast":null,"code":"import React,{useEffect}from'react';import*as d3 from'd3';import{jsx as _jsx}from\"react/jsx-runtime\";const ColorLegend=_ref=>{let{colorScale}=_ref;useEffect(()=>{const svg=d3.select('#color-legend').attr(\"width\",70).attr(\"height\",300);const legendWidth=20;const legendHeight=100;svg.selectAll(\"*\").remove();const gradient=svg.append(\"defs\").append(\"linearGradient\").attr(\"id\",\"gradient\").attr(\"x1\",\"0%\").attr(\"y1\",\"0%\").attr(\"x2\",\"0%\").attr(\"y2\",\"100%\");const domain=colorScale.domain();const minValue=domain[0];const maxValue=domain[domain.length-1];const numStops=5;for(let i=0;i<=numStops;i++){const value=minValue+i/numStops*(maxValue-minValue);gradient.append(\"stop\").attr(\"offset\",`${i/numStops*100}%`).attr(\"stop-color\",colorScale(value));}svg.append(\"rect\").attr(\"class\",\"gradient-rect\").attr(\"x\",0).attr(\"y\",20).attr(\"width\",legendWidth).attr(\"height\",legendHeight).style(\"fill\",\"url(#gradient)\");const ticks=colorScale.ticks(numStops);ticks.forEach((tick,index)=>{svg.append(\"text\").attr(\"class\",\"legend-tick\").attr(\"x\",legendWidth+5).attr(\"y\",index/(ticks.length-1)*legendHeight+20).attr(\"text-anchor\",\"start\").text(tick.toFixed(2));});},[colorScale]);return/*#__PURE__*/_jsx(\"svg\",{id:\"color-legend\"});};export default ColorLegend;","map":{"version":3,"names":["React","useEffect","d3","jsx","_jsx","ColorLegend","_ref","colorScale","svg","select","attr","legendWidth","legendHeight","selectAll","remove","gradient","append","domain","minValue","maxValue","length","numStops","i","value","style","ticks","forEach","tick","index","text","toFixed","id"],"sources":["/Users/fmparantean/Documents/datavis_thesis/src/HexbinMap/ColorLegend.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport * as d3 from 'd3';\n\nconst ColorLegend = ({ colorScale }) => {\n    useEffect(() => {\n        const svg = d3.select('#color-legend')\n            .attr(\"width\", 70) \n            .attr(\"height\", 300);\n\n        const legendWidth = 20;\n        const legendHeight = 100;\n        svg.selectAll(\"*\").remove();\n\n    \n        const gradient = svg.append(\"defs\")\n            .append(\"linearGradient\")\n            .attr(\"id\", \"gradient\")\n            .attr(\"x1\", \"0%\")\n            .attr(\"y1\", \"0%\")\n            .attr(\"x2\", \"0%\") \n            .attr(\"y2\", \"100%\");\n\n     \n        const domain = colorScale.domain();\n        const minValue = domain[0];\n        const maxValue = domain[domain.length - 1];\n\n  \n        const numStops = 5; \n        for (let i = 0; i <= numStops; i++) {\n            const value = minValue + (i / numStops) * (maxValue - minValue); \n            \n            gradient.append(\"stop\")\n                .attr(\"offset\", `${(i / numStops) * 100}%`)\n                .attr(\"stop-color\", colorScale(value)); \n        }\n\n       \n        svg.append(\"rect\")\n            .attr(\"class\", \"gradient-rect\")\n            .attr(\"x\", 0)\n            .attr(\"y\", 20)\n            .attr(\"width\", legendWidth)\n            .attr(\"height\", legendHeight)\n            .style(\"fill\", \"url(#gradient)\");\n\n       \n        const ticks = colorScale.ticks(numStops); \n        ticks.forEach((tick, index) => {\n            svg.append(\"text\")\n                .attr(\"class\", \"legend-tick\") \n                .attr(\"x\", legendWidth + 5) \n                .attr(\"y\", (index / (ticks.length - 1)) * legendHeight + 20) \n                .attr(\"text-anchor\", \"start\") \n                .text(tick.toFixed(2)); \n        });\n\n    }, [colorScale]);\n\n    return <svg id=\"color-legend\"></svg>; \n};\n\nexport default ColorLegend;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}