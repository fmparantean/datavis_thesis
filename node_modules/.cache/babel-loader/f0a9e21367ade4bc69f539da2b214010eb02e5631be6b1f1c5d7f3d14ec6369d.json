{"ast":null,"code":"var _jsxFileName = \"/Users/fmparantean/Desktop/mixvisual/src/DateHistogram/index.js\",\n  _s = $RefreshSig$();\nimport { csv, scaleLinear, scaleTime, max, timeFormat, extent, timeMonths, sum, brushX, select } from 'd3';\nimport { useRef, useEffect } from 'react';\nimport { AxisBottom } from './AxisBottom';\nimport { AxisLeft } from './AxisLeft';\nimport { Marks } from './Marks';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst width = 960;\nconst height = 500;\nconst margin = {\n  top: 20,\n  right: 30,\n  bottom: 65,\n  left: 90\n};\nconst xAxisLabelOffset = 50;\nconst yAxisLabelOffset = 45;\nconst App = () => {\n  _s();\n  const data = useData();\n  if (!data) {\n    return /*#__PURE__*/_jsxDEV(\"pre\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 12\n    }, this);\n  }\n  const innerHeight = height - margin.top - margin.bottom;\n  const innerWidth = width - margin.left - margin.right;\n  const xValue = d => d.timestamp;\n  const xAxisLabel = 'Time';\n  const yValue = d => d['Total Dead and Missing'];\n  const yAxisLabel = 'Total Dead and Missing';\n  const xAxisTickFormat = timeFormat('%a');\n  const xScale = scaleTime().domain(extent(data, xValue)).range([0, innerWidth]).nice();\n  const yScale = scaleLinear().domain(extent(data, yValue)).range([innerHeight, 0]).nice();\n  const brushRef = useRef(); //Brush Start\n\n  useEffect(() => {\n    const brush = brushX().extent([[0, 0], [innerWidth, innerHeight]]);\n    brush(select(brushRef.current));\n    brush.on('brush end', event => {\n      setBrushExtent(event.selection && event.selection.map(xScale.invert));\n    });\n  }, [innerWidth, innerHeight]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n      width: width,\n      height: height\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n      transform: `translate(${margin.left},${margin.top})`,\n      children: [/*#__PURE__*/_jsxDEV(AxisBottom, {\n        xScale: xScale,\n        innerHeight: innerHeight,\n        tickFormat: xAxisTickFormat,\n        tickOffset: 7\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n        className: \"axis-label\",\n        textAnchor: \"middle\",\n        transform: `translate(${-yAxisLabelOffset},${innerHeight / 2}) rotate(-90)`,\n        children: yAxisLabel\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(AxisLeft, {\n        yScale: yScale,\n        innerWidth: innerWidth,\n        tickOffset: 7\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n        className: \"axis-label\",\n        x: innerWidth / 2,\n        y: innerHeight + xAxisLabelOffset,\n        textAnchor: \"middle\",\n        children: xAxisLabel\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Marks, {\n        data: data,\n        xScale: xScale,\n        yScale: yScale,\n        xValue: xValue,\n        yValue: yValue,\n        tooltipFormat: xAxisTickFormat,\n        circleRadius: 3\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n        ref: brushRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n_s(App, \"cae0IypkTbqU6myxnDczeKt2040=\", true);\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["csv","scaleLinear","scaleTime","max","timeFormat","extent","timeMonths","sum","brushX","select","useRef","useEffect","AxisBottom","AxisLeft","Marks","jsxDEV","_jsxDEV","Fragment","_Fragment","width","height","margin","top","right","bottom","left","xAxisLabelOffset","yAxisLabelOffset","App","_s","data","useData","children","fileName","_jsxFileName","lineNumber","columnNumber","innerHeight","innerWidth","xValue","d","timestamp","xAxisLabel","yValue","yAxisLabel","xAxisTickFormat","xScale","domain","range","nice","yScale","brushRef","brush","current","on","event","setBrushExtent","selection","map","invert","transform","tickFormat","tickOffset","className","textAnchor","x","y","tooltipFormat","circleRadius","ref","_c","$RefreshReg$"],"sources":["/Users/fmparantean/Desktop/mixvisual/src/DateHistogram/index.js"],"sourcesContent":["import {\n    csv,\n    scaleLinear,\n    scaleTime,\n    max,\n    timeFormat,\n    extent,\n    timeMonths,\n    sum,\n    brushX,\n    select\n} from 'd3';\nimport { useRef, useEffect } from 'react';\nimport { AxisBottom } from './AxisBottom';\nimport { AxisLeft } from './AxisLeft';\nimport { Marks } from './Marks';\n\nconst width = 960;\nconst height = 500;\nconst margin = { top: 20, right: 30, bottom: 65, left: 90 };\nconst xAxisLabelOffset = 50;\nconst yAxisLabelOffset = 45;\n\nconst App = () => {\n  const data = useData();\n\n  if (!data) {\n    return <pre>Loading...</pre>;\n  }\n\n  const innerHeight = height - margin.top - margin.bottom;\n  const innerWidth = width - margin.left - margin.right;\n\n  const xValue = d => d.timestamp;\n  const xAxisLabel = 'Time';\n\n  const yValue = d => d['Total Dead and Missing'];\n  const yAxisLabel = 'Total Dead and Missing';\n\n  const xAxisTickFormat = timeFormat('%a');\n\n  const xScale = scaleTime()\n    .domain(extent(data, xValue))\n    .range([0, innerWidth])\n    .nice();\n\n  const yScale = scaleLinear()\n    .domain(extent(data, yValue))\n    .range([innerHeight, 0])\n    .nice();\n\n    const brushRef = useRef(); //Brush Start\n\n    useEffect(() => {\n        const brush = brushX().extent([[0, 0], [innerWidth, innerHeight]]);\n        brush(select(brushRef.current));\n        brush.on('brush end', (event) => {\n            setBrushExtent(event.selection && event.selection.map(xScale.invert));\n        });\n    }, [innerWidth, innerHeight]);\n\n    return (\n        <>\n            <rect width={width} height={height} />\n            <g transform={`translate(${margin.left},${margin.top})`}>\n                <AxisBottom\n                xScale={xScale}\n                innerHeight={innerHeight}\n                tickFormat={xAxisTickFormat}\n                tickOffset={7}\n                />\n                <text\n                className=\"axis-label\"\n                textAnchor=\"middle\"\n                transform={`translate(${-yAxisLabelOffset},${innerHeight /\n                    2}) rotate(-90)`}\n                >\n                {yAxisLabel}\n                </text>\n                <AxisLeft yScale={yScale} innerWidth={innerWidth} tickOffset={7} />\n                <text\n                className=\"axis-label\"\n                x={innerWidth / 2}\n                y={innerHeight + xAxisLabelOffset}\n                textAnchor=\"middle\"\n                >\n                {xAxisLabel}\n                </text>\n                <Marks\n                data={data}\n                xScale={xScale}\n                yScale={yScale}\n                xValue={xValue}\n                yValue={yValue}\n                tooltipFormat={xAxisTickFormat}\n                circleRadius={3}\n                />\n                <g ref={brushRef} />\n            </g>\n        </>\n    );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}